# 前后端分离

## 1.0 从本质上看前后端分离

### 1.1 序

康威定律：

> Organizations which design systems are constrained to produce designs which are copies of the communication structures of these organizations. - Melvin Conway(1967)
>
> 设计系统的组织，其产生的设计等同于组织之内、组织之间的沟通结构

**所谓架构设计，实际上是如何合理的对现实的人力架构进行系统映射，以便最大限度的压榨整个公司（组织）的运行效率（万恶的资本家）**

### 1.2 分离前

先看看一个 Web 系统，在前后端不分离时架构设计是什么样的:

![](https://pic3.zhimg.com/80/v2-1a16914020e75833279d33c873d74eb1_hd.jpg)

用户在浏览器上发送请求，服务器端接收到请求，根据 Header 中的 token 进行用户鉴权，从数据库取出数据，处理后将结果数据填入 HTML 模板，返回给浏览器，浏览器将 HTML 展现给用户

**这样的架构有什么问题？**

问题出现在图右边那位全寨（栈）开发人员！

他既要会数据库开发（SQL）、又要会服务器端开发（Java、C#），又要会前端开发（HTML、CSS、JS）。现实告诉我们，百样通往往不如一样精，什么都会的人往往哪一样都干不好。**是否可以按照前端后端进行人员职责区分呢？如果进行职责区分，分成前端开发和后端开发，但由于程序全在一个服务里，不同职责开发人员彼此间的交流、代码管理就会成为一个大问题，也就是交流成本膨胀的问题了**。

**那么，有什么办法可以让前端和后端开发只做自己擅长的事情，并尽量减少交流成本呢？**

### 1.3 分离后

为了解决上面的问题，前后端分离应运而生。**记住，分离的是人员职责，人员职责分离，所以架构也发生变化了**

![](https://pic4.zhimg.com/80/v2-889ced410c2319dbed2fe21c2da6e344_hd.jpg)

现在 Web 服务器不再处理任何业务，它接收到请求后，经过转换（路由和数据初步处理），发送给各个相关后端服务器，将各个后端服务器返回的，处理过的业务数据填入 HTML 模板，最后发送给浏览器。Web 服务器和后端服务器间，可以选用任何你觉得合适的通信手段，可以是 REST，可以是 RPC，选用什么样的通信手段，这是另一个议题了。

这样，前端人员和后端人员约定好接口后，前端人员彻底不用再关心业务处理是怎么回事，他只需要把界面做好就可以了，后端人员也不用再关系前端界面是什么样的，他只需要做好业务逻辑处理即可。服务的切离，代码管理，服务部署也都独立出来分别管理，系统的灵活性也获得了极大的提升。

### 1.4 总结

**总结，任何系统架构设计，实际上是对组织结构在系统上进行映射，前后端分离，就是在对前端开发人员和后端开发人员的工作进行解耦，尽量减少他她们之间的交流成本，帮助他她们更能专注于自己擅长的工作**。

## 参考文献

- [到底什么是前后端分离?](https://www.zhihu.com/question/304180174)
- [如何理解Web应用程序的MVC模型?](https://www.zhihu.com/question/27897315)
- [SPA和MPA](https://www.jianshu.com/p/a02eb15d2d70)
- [Swagger - 前后端分离后的契约](https://www.cnblogs.com/whitewolf/p/4686154.html)
- [基于Swagger的前后端协同开发解决方案-SMock](https://juejin.im/entry/5bf3927d6fb9a049f361b5c2)

